<div class="row">
  <div id="search" class="col-xs-offset-1 col-xs-10 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6 col-lg-offset-3 col-lg-6">
    <%= form_tag all_search_path do %>
      <%= text_field_tag :search, params[:search], :id => "search-form"%>
      <%= submit_tag "Search", :name => nil, :id => "search-button"  %>
    <% end %>
  </div>
</div>
<div class="row">
<div class="text-center col-xs-offset-1 col-xs-10 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6">
  <h1><%= @snippet.title %></h1>
</div>
  <div class="col-xs-12">
    <h3 class="text-center"><%= @snippet.category.title %> Code Snippet</h1>
  </div>
</div>

<div class="col-xs-offset-1 col-xs-10 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6">
  <div class="row">
    <div class="col-xs-10">
      <pre class="code">
        <%= @snippet.block %>
      </pre>
    </div>
    <div class="col-xs-2 block-it table-top">
      <% if @vote.nil? %>
        <table>
          <tr>
            <td class="centered">
              <%= link_to "<span class='glyphicon glyphicon-arrow-up inactive-button'></span>".html_safe, snippet_votes_path(@snippet, {vote: {is_up: true}}), method: :post %>
            </td>
          </tr>
          <tr>
            <td class="centered">
              <%= @snippet.vote_result %>
            </td>
          </tr>
          <tr>
            <td class="centered">
              <%= link_to "<span class='glyphicon glyphicon-arrow-down inactive-button'></span>".html_safe, snippet_votes_path(@snippet, {vote: {is_up: false}}), method: :post %>
            </td>
          </tr>
        </table>
      <% elsif @vote.is_up? %>
        <table>
          <tr>
            <td class="centered">
              <%= link_to "<span class='glyphicon glyphicon-arrow-up active-up-button'></span>".html_safe, snippet_vote_path(@snippet, @vote), method: :delete %>
            </td>
          </tr>
          <tr>
            <td class="centered">
              <%= @snippet.vote_result %>
            </td>
          </tr>
          <tr>
            <td class="centered">
              <%= link_to "<span class='glyphicon glyphicon-arrow-down inactive-button'></span>".html_safe, snippet_vote_path(@snippet, @vote, {vote: {is_up: false}}), method: :patch %>
            </td>
          </tr>
        </table>
      <% else %>
        <table>
          <tr>
            <td class="centered">
              <%= link_to "<span class='glyphicon glyphicon-arrow-up inactive-button'></span>".html_safe, snippet_vote_path(@snippet, @vote, {vote:{is_up: true}}), method: :patch %>
            </td>
          </tr>
          <tr>
            <td class="centered">
              <%= @snippet.vote_result %>
            </td>
          </tr>
          <tr>
            <td class="centered">
              <%= link_to "<span class='glyphicon glyphicon-arrow-down active-down-button'></span>".html_safe, snippet_vote_path(@snippet, @vote), method: :delete %>
            </td>
          </tr>
        </table>
      <% end %>
    </div>
  </div>
</div>
<div class="col-xs-offset-1 col-xs-10 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6">
  <p class="text-center">
    <%= @snippet.description %>
  </p>
</div>
